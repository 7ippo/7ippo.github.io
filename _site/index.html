<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <title>Tingsven's blog</title>
    <meta name="author"  content="周子博">
    <meta name="description" content="What is the purpose of LIFE">
    <meta name="keywords"  content="周子博 Webgl H5 Python Unity tingsven">
    <!-- Open Graph -->
    <meta property="og:title" content="Tingsven's blog">
    <meta property="og:type" content="website">
    <meta property="og:url" content="http://localhost:4000/">
    <meta property="og:description" content="What is the purpose of LIFE">
    <meta property="og:site_name" content="Tingsven's blog">
    <meta name="baidu-site-verification" content="K6wWpL2aUn" />
    <link rel="stylesheet" href="//cdn.staticfile.org/normalize/6.0.0/normalize.min.css">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_271755_rdxzzo2kqwk.css">
    <link rel="stylesheet" href="/assets/css/github-markdown.css">
    <link rel="stylesheet" href="/assets/css/prism.css">
    <link rel="stylesheet" href="/assets/css/share.min.css">
    <link rel="stylesheet" href="/assets/css/app.min.css">
    <script src="https://cdn.staticfile.org/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@12.4.0/dist/lazyload.min.js"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-146060169-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-146060169-1');
</script>
</head>


<body>
  <!--[if lt IE 10]>
<div class="alert-danger" role="alert">你的浏览器实在太太太旧了，放学别走，升级完浏览器再说！<a target="_blank" class="alert-link" href="http://browsehappy.com">立即升级</a></div>
<![endif]-->
  <input id="nm-switch" type="hidden" value="false">
  <div class="visible">
    <header class="g-header">
    <div class="g-logo">
      <a href="/"></a>
    </div>
    <i id="menu-toggle" class="iconfont icon-menu"></i>
    <nav class="g-nav">
        <ul>
            
            <li><a href="/">home</a></li>
            
            <li><a href="/tags.html">tags</a></li>
            
        </ul>
    </nav>
</header>


<div
    class="g-banner home-banner banner-theme-default"
    data-theme="default"
    style="background: url(https://i.loli.net/2020/03/28/Cr8ZpQLzYP6nSDW.jpg) no-repeat center center; background-size: cover;"
>
    <h2>Tingsven's blog</h2>
    <h3>What is the purpose of LIFE</h3>
</div>

<main class="g-container home-content">
    <div class="article-list">
        
            <article class="article-item">
                
                <div class="post-cover">
                    <a class="post-link" href="/2020/07/04/Intro-To-Modern-CG.html" title="GAMES101毕业 - 现代计算机图形学入门"></a>
                    <img data-src="https://i.loli.net/2021/03/31/7EYRMm4yJ2o3jsh.png" href="/2020/07/04/Intro-To-Modern-CG.html" alt="">
                </div>
                
                <section class="post-preview">
                    <a class="post-link" href="/2020/07/04/Intro-To-Modern-CG.html" title="GAMES101毕业 - 现代计算机图形学入门"></a>
                    <h2 class="post-title">GAMES101毕业 - 现代计算机图形学入门</h2>
                    
                    <h3 class="post-subtitle">光栅化部分课程笔记</h3>
                    
                    
                </section>
                <footer class="post-meta">
                    <div class="post-tags">
                        
                            
                            <a href=tags.html#图形学 class="post-tag">图形学</a>
                            
                            <a href=tags.html#实时渲染 class="post-tag">实时渲染</a>
                            
                        
                    </div>
                    <!-- <div style="float: right;color: #a9b0bc;font-size: 14px;letter-spacing: .6px;line-height: 22px;margin-left: 10px;"><span>0</span>次阅读</div> -->
                    <time class="post-date" datetime="20-07-04">04 Jul 2020</time>
                </footer>
            </article>
        
            <article class="article-item">
                
                <div class="post-cover">
                    <a class="post-link" href="/2020/06/01/How-To-Analyze-And-Optimize-Performance-0.html" title="基于第一个完整项目经验的性能分析与优化讨论(一)"></a>
                    <img data-src="https://i.loli.net/2021/03/15/K3I8HyLlhGsfNFp.jpg" href="/2020/06/01/How-To-Analyze-And-Optimize-Performance-0.html" alt="">
                </div>
                
                <section class="post-preview">
                    <a class="post-link" href="/2020/06/01/How-To-Analyze-And-Optimize-Performance-0.html" title="基于第一个完整项目经验的性能分析与优化讨论(一)"></a>
                    <h2 class="post-title">基于第一个完整项目经验的性能分析与优化讨论(一)</h2>
                    
                    <h3 class="post-subtitle">性能优化，最重要和最花心思的是如何发现问题和定位问题，解决反而是比较容易的</h3>
                    
                    
                </section>
                <footer class="post-meta">
                    <div class="post-tags">
                        
                            
                            <a href=tags.html#H5 class="post-tag">H5</a>
                            
                            <a href=tags.html#Laya class="post-tag">Laya</a>
                            
                            <a href=tags.html#性能优化 class="post-tag">性能优化</a>
                            
                        
                    </div>
                    <!-- <div style="float: right;color: #a9b0bc;font-size: 14px;letter-spacing: .6px;line-height: 22px;margin-left: 10px;"><span>0</span>次阅读</div> -->
                    <time class="post-date" datetime="20-06-01">01 Jun 2020</time>
                </footer>
            </article>
        
            <article class="article-item">
                
                <div class="post-cover">
                    <a class="post-link" href="/2020/01/18/Laya-Wechat-MiniGame.html" title="Laya项目轻松上线微信小游戏"></a>
                    <img data-src="https://i.loli.net/2020/03/30/2xlYnmaEKhpw37i.jpg" href="/2020/01/18/Laya-Wechat-MiniGame.html" alt="">
                </div>
                
                <section class="post-preview">
                    <a class="post-link" href="/2020/01/18/Laya-Wechat-MiniGame.html" title="Laya项目轻松上线微信小游戏"></a>
                    <h2 class="post-title">Laya项目轻松上线微信小游戏</h2>
                    
                    <h3 class="post-subtitle">讨论拆分bundle以满足4MB限制，以及上线微信小游戏可能遇到的问题</h3>
                    
                    
                </section>
                <footer class="post-meta">
                    <div class="post-tags">
                        
                            
                            <a href=tags.html#H5 class="post-tag">H5</a>
                            
                            <a href=tags.html#Laya class="post-tag">Laya</a>
                            
                            <a href=tags.html#小游戏 class="post-tag">小游戏</a>
                            
                        
                    </div>
                    <!-- <div style="float: right;color: #a9b0bc;font-size: 14px;letter-spacing: .6px;line-height: 22px;margin-left: 10px;"><span>0</span>次阅读</div> -->
                    <time class="post-date" datetime="20-01-18">18 Jan 2020</time>
                </footer>
            </article>
        
            <article class="article-item">
                
                <div class="post-cover">
                    <a class="post-link" href="/2019/11/01/Laya-Compile-Optimization.html" title="Laya编译发布优化"></a>
                    <img data-src="https://i.loli.net/2019/11/01/YbJWUTpzCKRDhmP.jpg" href="/2019/11/01/Laya-Compile-Optimization.html" alt="">
                </div>
                
                <section class="post-preview">
                    <a class="post-link" href="/2019/11/01/Laya-Compile-Optimization.html" title="Laya编译发布优化"></a>
                    <h2 class="post-title">Laya编译发布优化</h2>
                    
                    <h3 class="post-subtitle">讨论bundle分离，编译速度优化，sourcemap生成与Linux命令行工具</h3>
                    
                    
                </section>
                <footer class="post-meta">
                    <div class="post-tags">
                        
                            
                            <a href=tags.html#H5 class="post-tag">H5</a>
                            
                            <a href=tags.html#Laya class="post-tag">Laya</a>
                            
                        
                    </div>
                    <!-- <div style="float: right;color: #a9b0bc;font-size: 14px;letter-spacing: .6px;line-height: 22px;margin-left: 10px;"><span>0</span>次阅读</div> -->
                    <time class="post-date" datetime="19-11-01">01 Nov 2019</time>
                </footer>
            </article>
        
            <article class="article-item">
                
                <div class="post-cover">
                    <a class="post-link" href="/2019/09/11/JavaScript-Source-Mapping.html" title="JavaScript混淆堆栈本地解析映射工具"></a>
                    <img data-src="https://i.loli.net/2019/09/11/DwE4xOzsCRGyt9H.jpg" href="/2019/09/11/JavaScript-Source-Mapping.html" alt="">
                </div>
                
                <section class="post-preview">
                    <a class="post-link" href="/2019/09/11/JavaScript-Source-Mapping.html" title="JavaScript混淆堆栈本地解析映射工具"></a>
                    <h2 class="post-title">JavaScript混淆堆栈本地解析映射工具</h2>
                    
                    <h3 class="post-subtitle">sourcemapping - 我为node社区贡献的第一个npm工具</h3>
                    
                    
                </section>
                <footer class="post-meta">
                    <div class="post-tags">
                        
                            
                            <a href=tags.html#H5 class="post-tag">H5</a>
                            
                            <a href=tags.html#npm class="post-tag">npm</a>
                            
                            <a href=tags.html#工具 class="post-tag">工具</a>
                            
                        
                    </div>
                    <!-- <div style="float: right;color: #a9b0bc;font-size: 14px;letter-spacing: .6px;line-height: 22px;margin-left: 10px;"><span>0</span>次阅读</div> -->
                    <time class="post-date" datetime="19-09-11">11 Sep 2019</time>
                </footer>
            </article>
        
            <article class="article-item">
                
                <section class="post-preview">
                    <a class="post-link" href="/2019/09/11/Chrome-Devtool-Mapping-Sourcemap.html" title="Chrome调试关联本地sourcemap文件"></a>
                    <h2 class="post-title">Chrome调试关联本地sourcemap文件</h2>
                    
                    <h3 class="post-subtitle">针对线上混淆代码与堆栈的调试方法</h3>
                    
                    
                </section>
                <footer class="post-meta">
                    <div class="post-tags">
                        
                            
                            <a href=tags.html#H5 class="post-tag">H5</a>
                            
                            <a href=tags.html#Chrome class="post-tag">Chrome</a>
                            
                        
                    </div>
                    <!-- <div style="float: right;color: #a9b0bc;font-size: 14px;letter-spacing: .6px;line-height: 22px;margin-left: 10px;"><span>0</span>次阅读</div> -->
                    <time class="post-date" datetime="19-09-11">11 Sep 2019</time>
                </footer>
            </article>
        
            <article class="article-item">
                
                <div class="post-cover">
                    <a class="post-link" href="/2019/08/02/Discuss-H5-Game-Cache-Strategy.html" title="H5游戏缓存策略的讨论"></a>
                    <img data-src="https://i.loli.net/2019/08/06/WegjI3rcV9qt4wd.jpg" href="/2019/08/02/Discuss-H5-Game-Cache-Strategy.html" alt="">
                </div>
                
                <section class="post-preview">
                    <a class="post-link" href="/2019/08/02/Discuss-H5-Game-Cache-Strategy.html" title="H5游戏缓存策略的讨论"></a>
                    <h2 class="post-title">H5游戏缓存策略的讨论</h2>
                    
                    <h3 class="post-subtitle">H5游戏关于缓存策略标准的讨论</h3>
                    
                    
                </section>
                <footer class="post-meta">
                    <div class="post-tags">
                        
                            
                            <a href=tags.html#H5 class="post-tag">H5</a>
                            
                            <a href=tags.html#HTTP class="post-tag">HTTP</a>
                            
                            <a href=tags.html#缓存 class="post-tag">缓存</a>
                            
                        
                    </div>
                    <!-- <div style="float: right;color: #a9b0bc;font-size: 14px;letter-spacing: .6px;line-height: 22px;margin-left: 10px;"><span>0</span>次阅读</div> -->
                    <time class="post-date" datetime="19-08-02">02 Aug 2019</time>
                </footer>
            </article>
        

        
            <nav class="pagination">
    <input type="hidden" id="total_pages" value="2">
    <input type="hidden" id="current_pages" value="1">
    <input type="hidden" id="base_url" value="/">
    <div class="page-links">
        
        <div id="page-link-container"></div>
        
        <a href="/page2/" class="page-link">&raquo;</a>
        
    </div>
</nav>

        

    </div>

    <aside class="g-sidebar-wrapper">
        <div class="g-sidebar">
            <section class="author-card">
                <div class="avatar">
                    <a href="/contact.html">
                        <img src="https://i.loli.net/2020/03/30/rT8oDqO7iU5J6yu.jpg" alt="">
                    </a>
                </div>
                <div class="author-name" rel="author">周子博</div>
                <div class="bio">
                    <p>爱Vera，爱生活，爱游戏</p>
                </div>
                
                <ul id="sns-links" class="sns-links">
                    
                    <li>
                        <a href="/contact.html" target="_blank">
                            <i class="iconfont icon-email"></i>
                        </a>
                    </li>
                    
                    <li>
                        <a href="//weibo.com/swazz" target="_blank">
                            <i class="iconfont icon-weibo"></i>
                        </a>
                    </li>
                    
                    <li>
                        <a href="//github.com/7ippo" target="_blank">
                            <i class="iconfont icon-github"></i>
                        </a>
                    </li>
                    
                </ul>
                
            </section>

            
            <section class="tags-card">
                
                    
                    <a href="tags.html#Shell" class="tag">Shell</a>
                
                    
                    <a href="tags.html#工具" class="tag">工具</a>
                
                    
                    <a href="tags.html#Android" class="tag">Android</a>
                
                    
                    <a href="tags.html#Python" class="tag">Python</a>
                
                    
                    <a href="tags.html#Unity" class="tag">Unity</a>
                
                    
                    <a href="tags.html#C#" class="tag">C#</a>
                
                    
                    <a href="tags.html#H5" class="tag">H5</a>
                
                    
                    <a href="tags.html#HTTP" class="tag">HTTP</a>
                
                    
                    <a href="tags.html#缓存" class="tag">缓存</a>
                
                    
                    <a href="tags.html#随笔" class="tag">随笔</a>
                
                    
                    <a href="tags.html#Chrome" class="tag">Chrome</a>
                
                    
                    <a href="tags.html#npm" class="tag">npm</a>
                
                    
                    <a href="tags.html#Laya" class="tag">Laya</a>
                
                    
                    <a href="tags.html#小游戏" class="tag">小游戏</a>
                
                    
                    <a href="tags.html#性能优化" class="tag">性能优化</a>
                
                    
                    <a href="tags.html#图形学" class="tag">图形学</a>
                
                    
                    <a href="tags.html#实时渲染" class="tag">实时渲染</a>
                
            </section>
            
        </div>

        
        <div class="search-card">
            <input id="search_input" type="text" placeholder="Search..." autocomplete="off">
            <i class="iconfont icon-search"></i>
            <div class="search_result"></div>
        </div>
        

    </aside>

</main>

<footer class="g-footer">
  <section>Tingsven's blog ©
  
  
    2017
    -
  
  2021
  </section>
  <section>Powered by <a href="//jekyllrb.com">Jekyll</a> | <a href="https://github.com/kaeyleo/jekyll-theme-H2O">Theme H2O</a></section>
</footer>

<!-- 同时兼容http与https -->
<script src="//cdn1.lncld.net/static/js/2.5.0/av-min.js"></script>
<script>
    AV.initialize("EYgyitdcYOMWLdS6JfHNHD43-gzGzoHsz", "3hmJaI6a8V7rhyspVOMsr2oR");
    // 自己创建的Class的名字
    var name='Counter';
    function createRecord(Counter){
      // 设置 ACL
      var acl = new AV.ACL();
      acl.setPublicReadAccess(true);
      acl.setPublicWriteAccess(true);
      // 获得span的所有元素
      var elements=document.getElementsByClassName('leancloud_visitors');
      // 一次创建多条记录
      var allcounter=[];
      for (var i = 0; i < elements.length ; i++) {
        // 若某span的内容不包括 '-' ，则不必创建记录
        if(elements[i].textContent.indexOf('-') == -1){
          continue;
        }
        var title = elements[i].getAttribute('data-flag-title');
        var url = elements[i].id;
        var newcounter = new Counter();
        newcounter.setACL(acl);
        newcounter.set("title", title);
        newcounter.set("url", url);
        newcounter.set("time", 1);
        allcounter.push(newcounter);
        // 顺便更新显示span为默认值1
        elements[i].textContent=1;
      }
      AV.Object.saveAll(allcounter).then(function (todo) {
        // 成功保存记录之后
        console.log('New Visit Record Success');
      }, function (error) {
        // 异常错误 
        console.error('New Visit Record Fail: ' + error.message);
      });
    }
    function showCount(Counter){
      var $visitors = $(".leancloud_visitors");
      if($visitors.length == 0) return;
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);
      query.equalTo('url', url);
      query.find().then(function (results) {
        // 当获取到的记录为0时置默认值
        if(results.length==0){
          createRecord(Counter);
          return;
        }
        // 将获取到的数据设置为text
        var item = results[0];
        var url = item.get('url');
        var time = item.get('time');
        var element = document.getElementById(url);
        element.textContent = time + 1;
        // 访问量+1
        item.increment('time');
        item.save().then(function (testObject) {
        });
      }, function (error) {
        console.log('save error:'+error.message);
      });
    }
    $(function() {
      var Counter = AV.Object.extend(name);
      showCount(Counter);
    });
</script>


  </div>
  <script src="/assets/js/prism.js"></script>
  <script src="/assets/js/index.min.js"></script>
  <script>
    var lazyLoadInstance = new LazyLoad({});
  </script>
</body>

</html>