<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <title>Tingsven's blog</title>
    <meta name="author"  content="周子博">
    <meta name="description" content="What is the purpose of LIFE">
    <meta name="keywords"  content="周子博 Webgl H5 Python Unity tingsven">
    <!-- Open Graph -->
    <meta property="og:title" content="Tingsven's blog">
    <meta property="og:type" content="website">
    <meta property="og:url" content="http://localhost:4000/page2/">
    <meta property="og:description" content="What is the purpose of LIFE">
    <meta property="og:site_name" content="Tingsven's blog">
    <meta name="baidu-site-verification" content="K6wWpL2aUn" />
    <link rel="stylesheet" href="//cdn.staticfile.org/normalize/6.0.0/normalize.min.css">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_271755_rdxzzo2kqwk.css">
    <link rel="stylesheet" href="/assets/css/github-markdown.css">
    <link rel="stylesheet" href="/assets/css/prism.css">
    <link rel="stylesheet" href="/assets/css/share.min.css">
    <link rel="stylesheet" href="/assets/css/app.min.css">
    <script src="https://cdn.staticfile.org/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@12.4.0/dist/lazyload.min.js"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-146060169-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-146060169-1');
</script>
</head>


<body>
  <!--[if lt IE 10]>
<div class="alert-danger" role="alert">你的浏览器实在太太太旧了，放学别走，升级完浏览器再说！<a target="_blank" class="alert-link" href="http://browsehappy.com">立即升级</a></div>
<![endif]-->
  <input id="nm-switch" type="hidden" value="true">
  <div class="visible">
    <header class="g-header">
    <div class="g-logo">
      <a href="/"></a>
    </div>
    <i id="menu-toggle" class="iconfont icon-menu"></i>
    <nav class="g-nav">
        <ul>
            
            <li><a href="/">home</a></li>
            
            <li><a href="/tags.html">tags</a></li>
            
        </ul>
    </nav>
</header>


<div
    class="g-banner home-banner banner-theme-default"
    data-theme="default"
    style="background: url(https://i.loli.net/2019/02/12/5c626fc7ccdd3.jpg) no-repeat center center; background-size: cover;"
>
    <h2>Tingsven's blog</h2>
    <h3>What is the purpose of LIFE</h3>
</div>

<main class="g-container home-content">
    <div class="article-list">
        
            <article class="article-item">
                
                <section class="post-preview">
                    <a class="post-link" href="/2018/11/28/Unity%E5%85%A5%E9%97%A8-%E7%BC%96%E5%86%99%E4%B8%80%E4%B8%AA2DRoguelike%E6%B8%B8%E6%88%8F.html" title="Unity入门:编写一个2D Roguelike游戏"></a>
                    <h2 class="post-title">Unity入门:编写一个2D Roguelike游戏</h2>
                    
                    <h3 class="post-subtitle">我的第一个Unity项目</h3>
                    
                    
                </section>
                <footer class="post-meta">
                    <div class="post-tags">
                        
                            
                            <a href=tags.html#Unity class="post-tag">Unity</a>
                            
                            <a href=tags.html#C# class="post-tag">C#</a>
                            
                        
                    </div>
                    <!-- <div style="float: right;color: #a9b0bc;font-size: 14px;letter-spacing: .6px;line-height: 22px;margin-left: 10px;"><span>0</span>次阅读</div> -->
                    <time class="post-date" datetime="18-11-28">28 Nov 2018</time>
                </footer>
            </article>
        
            <article class="article-item">
                
                <div class="post-cover">
                    <a class="post-link" href="/2018/11/06/Apk-Permissions-Check.html" title="Apk Permissions Check"></a>
                    <img data-src="https://i.loli.net/2019/02/12/5c626fbda2e1c.jpg" href="/2018/11/06/Apk-Permissions-Check.html" alt="">
                </div>
                
                <section class="post-preview">
                    <a class="post-link" href="/2018/11/06/Apk-Permissions-Check.html" title="Apk Permissions Check"></a>
                    <h2 class="post-title">Apk Permissions Check</h2>
                    
                    <h3 class="post-subtitle">利用ElementTree库解析apk检查AndroidManifest</h3>
                    
                    
                </section>
                <footer class="post-meta">
                    <div class="post-tags">
                        
                            
                            <a href=tags.html#Android class="post-tag">Android</a>
                            
                            <a href=tags.html#Python class="post-tag">Python</a>
                            
                            <a href=tags.html#工具 class="post-tag">工具</a>
                            
                        
                    </div>
                    <!-- <div style="float: right;color: #a9b0bc;font-size: 14px;letter-spacing: .6px;line-height: 22px;margin-left: 10px;"><span>0</span>次阅读</div> -->
                    <time class="post-date" datetime="18-11-06">06 Nov 2018</time>
                </footer>
            </article>
        
            <article class="article-item">
                
                <div class="post-cover">
                    <a class="post-link" href="/2018/09/28/Log-for-Shell.html" title="Log for Shell"></a>
                    <img data-src="https://i.loli.net/2019/02/12/5c626fc358a0d.jpg" href="/2018/09/28/Log-for-Shell.html" alt="">
                </div>
                
                <section class="post-preview">
                    <a class="post-link" href="/2018/09/28/Log-for-Shell.html" title="Log for Shell"></a>
                    <h2 class="post-title">Log for Shell</h2>
                    
                    <h3 class="post-subtitle">Shell堆栈日志工具以及代码规范</h3>
                    
                    
                </section>
                <footer class="post-meta">
                    <div class="post-tags">
                        
                            
                            <a href=tags.html#Shell class="post-tag">Shell</a>
                            
                            <a href=tags.html#工具 class="post-tag">工具</a>
                            
                        
                    </div>
                    <!-- <div style="float: right;color: #a9b0bc;font-size: 14px;letter-spacing: .6px;line-height: 22px;margin-left: 10px;"><span>0</span>次阅读</div> -->
                    <time class="post-date" datetime="18-09-28">28 Sep 2018</time>
                </footer>
            </article>
        

        
            <nav class="pagination">
    <input type="hidden" id="total_pages" value="2">
    <input type="hidden" id="current_pages" value="2">
    <input type="hidden" id="base_url" value="/">
    <div class="page-links">
        
            
            <a href="/" class="page-link" title="Previous Page">&laquo;</a>
            
        
        <div id="page-link-container"></div>
        
    </div>
</nav>

        

    </div>

    <aside class="g-sidebar-wrapper">
        <div class="g-sidebar">
            <section class="author-card">
                <div class="avatar">
                    <a href="/contact.html">
                        <img src="/assets/img/profile.jpg" alt="">
                    </a>
                </div>
                <div class="author-name" rel="author">周子博</div>
                <div class="bio">
                    <p>爱Vera，爱生活，爱游戏</p>
                </div>
                
                <ul id="sns-links" class="sns-links">
                    
                    <li>
                        <a href="/contact.html" target="_blank">
                            <i class="iconfont icon-email"></i>
                        </a>
                    </li>
                    
                    <li>
                        <a href="//weibo.com/swazz" target="_blank">
                            <i class="iconfont icon-weibo"></i>
                        </a>
                    </li>
                    
                    <li>
                        <a href="//github.com/7ippo" target="_blank">
                            <i class="iconfont icon-github"></i>
                        </a>
                    </li>
                    
                </ul>
                
            </section>

            
            <section class="tags-card">
                
                    
                    <a href="tags.html#Shell" class="tag">Shell</a>
                
                    
                    <a href="tags.html#工具" class="tag">工具</a>
                
                    
                    <a href="tags.html#Android" class="tag">Android</a>
                
                    
                    <a href="tags.html#Python" class="tag">Python</a>
                
                    
                    <a href="tags.html#Unity" class="tag">Unity</a>
                
                    
                    <a href="tags.html#C#" class="tag">C#</a>
                
                    
                    <a href="tags.html#H5" class="tag">H5</a>
                
                    
                    <a href="tags.html#HTTP" class="tag">HTTP</a>
                
                    
                    <a href="tags.html#缓存" class="tag">缓存</a>
                
                    
                    <a href="tags.html#随笔" class="tag">随笔</a>
                
                    
                    <a href="tags.html#Chrome" class="tag">Chrome</a>
                
                    
                    <a href="tags.html#npm" class="tag">npm</a>
                
                    
                    <a href="tags.html#Laya" class="tag">Laya</a>
                
                    
                    <a href="tags.html#小游戏" class="tag">小游戏</a>
                
            </section>
            
        </div>

        
        <div class="search-card">
            <input id="search_input" type="text" placeholder="Search..." autocomplete="off">
            <i class="iconfont icon-search"></i>
            <div class="search_result"></div>
        </div>
        

    </aside>

</main>

<footer class="g-footer">
  <section>Tingsven's blog ©
  
  
    2017
    -
  
  2020
  </section>
  <section>Powered by <a href="//jekyllrb.com">Jekyll</a> | <a href="https://github.com/kaeyleo/jekyll-theme-H2O">Theme H2O</a></section>
</footer>

<!-- 同时兼容http与https -->
<script src="//cdn1.lncld.net/static/js/2.5.0/av-min.js"></script>
<script>
    AV.initialize("EYgyitdcYOMWLdS6JfHNHD43-gzGzoHsz", "3hmJaI6a8V7rhyspVOMsr2oR");
    // 自己创建的Class的名字
    var name='Counter';
    function createRecord(Counter){
      // 设置 ACL
      var acl = new AV.ACL();
      acl.setPublicReadAccess(true);
      acl.setPublicWriteAccess(true);
      // 获得span的所有元素
      var elements=document.getElementsByClassName('leancloud_visitors');
      // 一次创建多条记录
      var allcounter=[];
      for (var i = 0; i < elements.length ; i++) {
        // 若某span的内容不包括 '-' ，则不必创建记录
        if(elements[i].textContent.indexOf('-') == -1){
          continue;
        }
        var title = elements[i].getAttribute('data-flag-title');
        var url = elements[i].id;
        var newcounter = new Counter();
        newcounter.setACL(acl);
        newcounter.set("title", title);
        newcounter.set("url", url);
        newcounter.set("time", 1);
        allcounter.push(newcounter);
        // 顺便更新显示span为默认值1
        elements[i].textContent=1;
      }
      AV.Object.saveAll(allcounter).then(function (todo) {
        // 成功保存记录之后
        console.log('New Visit Record Success');
      }, function (error) {
        // 异常错误 
        console.error('New Visit Record Fail: ' + error.message);
      });
    }
    function showCount(Counter){
      var $visitors = $(".leancloud_visitors");
      if($visitors.length == 0) return;
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);
      query.equalTo('url', url);
      query.find().then(function (results) {
        // 当获取到的记录为0时置默认值
        if(results.length==0){
          createRecord(Counter);
          return;
        }
        // 将获取到的数据设置为text
        var item = results[0];
        var url = item.get('url');
        var time = item.get('time');
        var element = document.getElementById(url);
        element.textContent = time + 1;
        // 访问量+1
        item.increment('time');
        item.save().then(function (testObject) {
        });
      }, function (error) {
        console.log('save error:'+error.message);
      });
    }
    $(function() {
      var Counter = AV.Object.extend(name);
      showCount(Counter);
    });
</script>


  </div>
  <script src="/assets/js/prism.js"></script>
  <script src="/assets/js/index.min.js"></script>
  <script>
    var lazyLoadInstance = new LazyLoad({});
  </script>
</body>

</html>